@{
    ViewBag.Title = "Developing using Open Charge Map data and services";
}

<h1>Accessing and using Open Charge Map</h1>

@Html.Partial("_LicenseBlock")

<a id="widgets"></a>
<h2>Widgets for your own sites</h2>
<p>As an easy way to contribute and use OCM data, we have some components you can embed on your own website using HTML and javascript:</p>
<ul>
    <li><a href="http://api.openchargemap.io/widgets/map/mapwizard.htm">Charging Location Map Wizard</a></li>
</ul>
<h2>Examples sites and apps using OCM data and services</h2>
<p>We've put together a partial <a href="@Url.Action("Apps", "Develop")">list of apps and sites</a> using Open Charge Map data and services. Please contact us if you want to see your site, app or service added to this list.</p>

<a id="api"></a>
<h2>Data Consumer API</h2>
<p>If you wish to export charging location data into your own systems or applications the most flexible way is to use our API, which provides an export in a variety of formats.</p>
<p><em>API V2 June 2013 - Please join the discussion forum to track development.</em></p>
<h3>Service Base URL: </h3>
<p style="margin-left: 40px">http://api.openchargemap.io/v2/</p>
<h3>Example API Calls: </h3>
<p style="margin-left: 40px">Return charging location information for the US in JSON format, limited to the first 100 results: <a href="http://api.openchargemap.io/v2/poi/?output=json&countrycode=US&maxresults=100">http://api.openchargemap.io/v2/poi/?output=json&amp;countrycode=US&amp;maxresults=100</a></p>
<p style="margin-left: 40px">Return KML format results suitable for viewing in google earth/maps etc (UK, max 500 locations): <a href="http://api.openchargemap.io/v2/poi/?output=kml&countrycode=GB&maxresults=500">http://api.openchargemap.io/v2/poi/?output=kml&amp;countrycode=GB&amp;maxresults=500</a></p>
<h3>Service Parameters:</h3>

<table class="table table-striped table-bordered table-condensed">
    <tr>
        <th>Parameter</th>
        <th>Description</th>
        <th>Default</th>
    </tr>
    <tr>
        <td>action</td>
        <td>/poi/ : returns list of charging locations matching criteria using parameters specified below.<br />
            /referencedata/ (JSON only) : returns core reference data lists such as UsageTypes, ConnectionTypes etc.
        </td>
        <td>/poi/</td>
    </tr>
    <tr>
        <td>output</td>
        <td>json, xml, kml <em>JSON format is recommended as highest fidelity</em></td>
        <td>json</td>
    </tr>
    <tr>
        <td>maxresults</td>
        <td>limit on max number of results returned</td>
        <td>100</td>
    </tr>
    <tr>
        <td>countrycode</td>
        <td>GB, US etc ISO Country Code.</td>
        <td>(blank)</td>
    </tr>
    <tr>
        <td>latitude</td>
        <td>latitude reference for distance calculation</td>
        <td>(blank)</td>
    </tr>
    <tr>
        <td>longitude</td>
        <td>longitude reference for distance calculation</td>
        <td>(blank)</td>
    </tr>
    <tr>
        <td>distance</td>
        <td>return results based on specified distance from specified latitude/longitude</td>
        <td>(blank)</td>
    </tr>
    <tr>
        <td>distanceunit</td>
        <td>Miles or KM</td>
        <td>Miles</td>
    </tr>
    <tr>
        <td>operatorid</td>
        <td>exact match on a given EVSE operator id (comma separated list)</td>
        <td>(blank)</td>
    </tr>
    <tr>
        <td>connectiontypeid</td>
        <td>exact match on a given connection type id (comma separated list)</td>
        <td>(blank)</td>
    </tr>
    <tr>
        <td>countryid</td>
        <td>exact match on a given country id (comma separated list)</td>
        <td>(blank)</td>
    </tr>
    <tr>
        <td>levelid</td>
        <td>exact match on a given charging level (1-3) id (comma separated list)</td>
        <td>(blank)</td>
    </tr>
    <tr>
        <td>usagetypeid</td>
        <td>exact match on a given usage type id (comma separated list)</td>
        <td>(blank)</td>
    </tr>
    <tr>
        <td>statustypeid</td>
        <td>exact match on a given status type id (comma separated list)</td>
        <td>(blank)</td>
    </tr>
    <tr>
        <td>includecomments</td>
        <td>true or false. Set to true to include user comments per charging location. </td>
        <td>false</td>
    </tr>
    <tr>
        <td>verbose</td>
        <td>true or false. Set to true to get a smaller result set with null items removed. </td>
        <td>true</td>
    </tr>
    <tr>
        <td>callback</td>
        <td>specify the name of the JSONP callback (if required), JSON response type only.</td>
        <td>(blank)</td>
    </tr>
</table>

<h2>Direct database access via OData</h2>
<p>
    In addition to the above services there is a read only <a href="http://odata.org">OData</a> service for browsing our database directly at <em>http://api.openchargemap.io/odata/odata.svc</em> which is provided for direct programmatic access to our live database. The advantage of this is it provides an output which very closely matches our internal database structure so no data is lost in translation. You can view this data using a number of free OData browser tools including:
        <a href="http://metasapiens.com/sesame/data-browser/preview?cn-provider=OData&cn-Uri=http%3a%2f%2fapi.openchargemap.io%2fodata%2fodata.svc%2f" target="_blank">Sesame Data Browser (beta)</a> (external link)
</p>
